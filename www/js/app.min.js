angular.module("Game",["ngRoute","LocalStorageModule","timer"]).config(["$routeProvider","$httpProvider","$locationProvider","localStorageServiceProvider","config",function(e,o,t,n,r){angular.forEach(r.interceptor,function(o){var t=o.replace(/_[a-z]/g,function(e){return e.split("_")[1].toUpperCase()});t+="Controller",e.when("/"+o,{templateUrl:"templates/"+o+".html",reloadOnSearch:!1,controller:t,resolve:{user:["$q","$location","localStorageService",function(e,t,n){var r=["bills","orders","recommandors","recommand_income","my_code","modify_password","messages","online_withdraw"],a=e.defer();return r.includes(o)&&!n.get("token")?(a.reject(),t.path("/index").replace(),void 0):(a.resolve(),a.promise)}]}})}),e.otherwise("/index"),o.defaults.useXDomain=!0,o.defaults.withCredentials=!0,delete o.defaults.headers.common["X-Requested-With"],n.setStorageCookie(.02),o.interceptors.push("tokenInterceptor")}]).run(["appServices",function(e){e.init()}]),angular.module("Game").factory("utilServices",["$q",function(e){var o=function(e){var o;o=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var t=e.split(",")[0].split(":")[1].split(";")[0],n=new Uint8Array(o.length),r=0;r<o.length;r++)n[r]=o.charCodeAt(r);return new Blob([n],{type:t})},t=function(t){var n=e.defer(),r=document.createElement("img");try{var a=new FileReader;a.onload=function(e){r.src=e.target.result;var t=document.createElement("canvas"),a=t.getContext("2d");a.drawImage(r,0,0);var i=500,s=500,c=r.width,u=r.height;c>u?c>i&&(u*=i/c,c=i):u>s&&(c*=s/u,u=s),t.width=c,t.height=u;var a=t.getContext("2d");a.drawImage(r,0,0,c,u);var l=t.toDataURL("image/jpeg"),d=o(l);n.resolve(d)},a.readAsDataURL(t)}catch(i){n.resolve(i)}return n.promise};return{resizeFile:t}}]),angular.module("Game").factory("userServices",["$rootScope","$http","apiServices","localStorageService","config",function(e,o,t,n,r){return{rsa_key:t._get(angular.extend({},r.common_params,{url:"key/private_key.pem"})),signin:t._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/Login"})),signup:t._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/RegistTel"})),forget:t._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/ResetPassword"})),modify_password:t._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/SetPassword",token:n.get("token")})),modify_trade_password:t._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/setTradePassword",token:n.get("token")})),reset:t._get(angular.extend({},r.common_params,{url:r.url+"api_url"})),get_smscode:t._get(angular.extend({},r.common_params,{url:r.url+"api_url"})),query_basicinfo:t._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/userBaseInfo",token:n.get("token")})),sync:function(){var o=this;o.query_basicinfo().then(function(t){t.code==r.request.SUCCESS&&t.status==r.response.SUCCESS?(e.user=void 0,e.user=angular.extend({},e.user,t.Result.UserInfo)):o.logout()})},logout:function(){e.user={},n.remove("token")},realname_authen:t._get(angular.extend({},r.common_params,{url:r.url+"api_url",token:n.get("token")})),phone_authen:t._get(angular.extend({},r.common_params,{url:r.url+"api_url",token:n.get("token")})),query_feiting:t._get(angular.extend({},r.common_params,{url:r.url+"/app/XyftManage/xyftOut",token:n.get("token")})),query_feiting_history:t._get(angular.extend({},r.common_params,{url:r.url+"/app/XyftManage/xyftList",token:n.get("token")})),query_peilv:t._get(angular.extend({},r.common_params,{url:r.url+"/app/XyftManage/oddsList"})),betting:t._get(angular.extend({},r.common_params,{url:r.url+"/app/XyftManage/buyGame",token:n.get("token")})),query_saiche:t._get(angular.extend({},r.common_params,{url:r.url+"/app/BjpksManage/bjpksOut",token:n.get("token")})),query_saiche_history:t._get(angular.extend({},r.common_params,{url:r.url+"/app/BjpksManage/bjpksList",token:n.get("token")})),query_messages:t._get(angular.extend({},r.common_params,{url:r.url+"api_url",token:n.get("token")})),query_message_by_id:t._get(angular.extend({},r.common_params,{url:r.url+"api_url",token:n.get("token")})),query_constant_info:t._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/baseInfo",token:n.get("token")})),charge:t._get(angular.extend({},r.common_params,{url:r.url+"/app/ChargeLogs/chargeMoney",token:n.get("token")})),withdraw:t._get(angular.extend({},r.common_params,{url:r.url+"/app/ChargeLogs/getMoney",token:n.get("token")})),query_bills:t._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/fundList",token:n.get("token")})),query_recommandors:t._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/recommendList",token:n.get("token")})),query_orders:t._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/buyGameLogList",token:n.get("token")}))}}]),angular.module("Game").factory("tokenInterceptor",["$location","$q","$timeout","localStorageService","errorServices","config",function(e,o,t,n,r,a){return{request:function(e){return e},requestError:function(){},response:function(i){var s=o.defer();return i.config.url.indexOf(".html")>0?i:i.data.code==a.request.TOKEN_INVALID?(console.log("TOKEN_INVALID"),n.remove("token"),r.autoHide("请先登录"),t(function(){e.path("/signin").replace()},500),s.promise):i},responseError:function(e){var t=o.defer();return r.requestError(e.data,e.status,e.headers,e.config),t.promise}}}]),angular.module("Game").factory("toastServices",function(){return{show:function(){$(".toast").show()},hide:function(){$(".toast").hide()},start:function(){NProgress.start()},done:function(){NProgress.done()}}}),angular.module("Game").factory("gameServices",["$rootScope","$http","apiServices","localStorageService","config",function(e,o,t,n,r){return{query_banner:t._get(angular.extend({},r.common_params,{url:r.url+"/app/IndexBannerManage/homeBanner"}))}}]),angular.module("Game").factory("facebookServices",["$rootScope","$route","$http","$window","$location","$q","userServices","toastServices","errorServices","localStorageService","config",function(e,o,t,n,r,a,i,s,c,u,l){return n.fbAsyncInit=function(){var e=n.FB||void 0;e&&e.init({appId:"217442991983314",xfbml:!0,version:"v2.6"})},{share:function(e){var t=n.FB||void 0;t&&t.ui({method:"feed",link:e||l.share.link,redirect_uri:e||l.share.link,caption:l.share.title},function(){o.reload()})},login:function(){var e=a.defer(),o=this;return o._facebook_connected().then(function(e){return e}).then(function(){o._query_facebook_user_info().then(function(o){e.resolve(o)})}),e.promise},logout:function(){var e=n.FB||void 0;e&&e.logout(function(){})},_facebook_connected:function(){var e=a.defer(),o=n.FB||void 0;return o?(s.show(),o.login(function(o){s.hide(),"connected"==o.status?e.resolve(o):e.reject("_facebook_connected occured")},{scope:"public_profile,email"}),e.promise):void 0},_query_facebook_user_info:function(){var e=a.defer(),o=n.FB||void 0;return o?(o.api("/me",{fields:"id,email,name,picture,gender,last_name"},function(o){!o||o.error?e.reject("_query_facebook_user_info error occured"):e.resolve(o)}),e.promise):void 0}}}]),angular.module("Game").factory("errorServices",["$rootScope","$timeout","toastServices",function(e,o,t){return{show:function(o){e.error_msg=o,$(".error-msg").show()},hide:function(){e.error_msg="",$(".error-msg").hide()},autoHide:function(t){e.error_msg=t,$(".error-msg").show(),o(function(){e.error_msg="",$(".error-msg").hide()},3e3)},requestError:function(e,o,n,r){switch(t.hide(),o){case 0:this.autoHide("连接超时");break;case 500:case 501:case 502:case 503:case 504:case 505:case 506:case 507:case 509:case 510:this.autoHide("服务器连接出错")}console.log("onRequestError output status, data, headers, config"),console.log(o),console.log(e),console.log(n),console.log(r),console.log("onRequestError end")}}}]),angular.module("Game").factory("appServices",["$rootScope","$window","$location","userServices","localStorageService","errorServices","toastServices","config",function(e,o,t,n,r,a,i,s){var c=function(){},u=function(e,o,t){i.hide(),a.hide(),d(e,o,t)},l=function(){},d=function(){};return{init:function(){e.$on("$routeChangeStart",c),e.$on("$routeChangeSuccess",u),e.$on("$routeChangeError",l),e.go=function(e){t.path(e)},e.back=function(){o.history.back()},e.staticImageUrl=s.imageUrl,r.get("token")&&n.sync()}}}]),angular.module("Game").factory("apiServices",["$http","localStorageService",function(e,o){return{_get:function(t){return function(n){return void 0!==t.token&&(t.token=o.get("token")),e({url:t.url,method:"GET",params:angular.extend({},t,n)}).then(function(e){return e.data})}},_post:function(t){return function(n){return void 0!==t.token&&(t.token=o.get("token")),e({url:t.url,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(e){var o=[];for(var t in e)o.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return o.join("&")},data:angular.extend({},t,n)}).then(function(e){return e.data})}}}}]),angular.module("Game").directive("userSidebar",function(){return{restrict:"E",templateUrl:"templates/user_sidebar.html",scope:{active:"=",user:"="},link:function(){}}}),angular.module("Game").directive("onRepeatDone",function(){return{restrict:"A",link:function(e,o){e.$last&&e.$emit("onRepeatDone",o)}}}),angular.module("Game").directive("onload",function(){return{restrict:"A",link:function(e,o){$(o).css({opacity:0}),$(o).bind("load",function(){$(o).css({opacity:1})})}}}),angular.module("Game").directive("mobilepicker",["$timeout",function(e){return{restrict:"E",scope:{options:"="},template:"<input type='text' name='picker' readonly ng-model='options.value'>",link:function(o,t){var n={beginyear:1950,endyear:(new Date).getFullYear(),days:["周日","周一","周二","周三","周四","周五","周六"],curdate:!1,theme:"date",event:"click",callBack:function(e){o.options.value=e.y+"-"+e.M+"-"+e.d}};e(function(){$(t).find("input").datePicker(angular.extend({},n,o.options))},0)}}}]),angular.module("Game").directive("imageview",["$timeout",function(e){return{restrict:"E",scope:{src:"="},controller:["$scope","$element","$attrs",function(o,t,n){function r(e){$(e.target).css({width:"auto",height:"auto"});var t=$(e.target),n=t.width(),r=t.height(),a=parseFloat(n)/parseFloat(r);a<o.rate?(n=o.width,r=o.width/a,t.css({display:"inline-block",height:r,width:n,"margin-top":-(r-o.height)/2})):(r=o.height,n=r*a,t.css({display:"inline-block",height:r,width:n,"margin-left":-(n-o.width)/2})),t.parent().css({background:"none"}),t.css({visibility:"visible"})}function a(e){var t=$(e.target),n=t.width(),r=t.height(),a=parseFloat(n)/parseFloat(r);a<o.rate?t.css({display:"inline-block",height:"100%",width:"auto"}):t.css({display:"inline-block",height:"auto",width:"100%"}),t.parent().css({background:"none"}),t.css({visibility:"visible"})}return o.bg_image="../images/default.png",o.rate=parseFloat(o.$eval(n.rate)),o.width=t.parent().width()||$(window).width(),o.height=o.width/o.rate,o.rate?(this.show_center_on_loaded=function(o){r(o),e(function(){r(o)},100)},this.show_on_loaded=function(o){a(o),e(function(){a(o)},100)},void 0):(console.log("unexpect rate"),void 0)}],template:function(e){var o="<img ng-src='{{src}}' show-center-on-loaded err-src='../images/default.png'>";return void 0==$(e).attr("center-only")&&(o="<img ng-src='{{src}}' show-on-loaded err-src='../images/default.png'>"),o},link:function(e,o){var t={display:"block",width:e.width,overflow:"hidden","text-align":"center","background-image":"url("+e.bg_image+")","background-position":"center center","background-repeat":"no-repeat",height:e.height,overflow:"hidden"};$(o).css(t)}}}]).directive("showOnLoaded",function(){return{restrict:"A",require:"^imageview",link:function(e,o,t,n){o.bind("load",n.show_on_loaded)}}}).directive("showCenterOnLoaded",function(){return{restrict:"A",require:"^imageview",link:function(e,o,t,n){o.bind("load",n.show_center_on_loaded)}}}),angular.module("Game").directive("dribehanceHeader",["$rootScope",function(e){return{restrict:"E",templateUrl:"templates/header.html",scope:{title:"=",backAction:"=",user:"=",active:"="},link:function(o){o.back=function(){e.back()}}}}]),angular.module("Game").directive("dribehanceFooter",function(){return{restrict:"E",templateUrl:"templates/footer.html",scope:{active:"="},link:function(){}}}),angular.module("Game").directive("errSrc",function(){return{restrict:"A",link:function(e,o,t){$(o).bind("error",function(){$(o).attr("src",t.errSrc)})}}}),angular.module("Game").directive("countdown",["$interval",function(e){return{restrict:"E",scope:{countdown:"=",disabled:"=countdownDisabled"},link:function(o,t){function n(){var t=o.countdown.message,n=parseFloat(o.countdown.count)?parseFloat(o.countdown.count):60;r=!0,o.$apply(function(){o.countdown.message=n--,o.countdown.message=n+"s重新获取",o.countdown.mode="disabled",o.countdown.reset=!1,o.countdown.callback()});var a=e(function(){o.countdown.message=n--,o.countdown.message=n+"s重新获取",(0>n||o.countdown.reset)&&(e.cancel(a),o.countdown.message=t,r=!1)},1e3)}var r=!1;$(t).bind("click",function(){o.disabled||r||n()})}}}]),angular.module("Game").directive("confirm",function(){return{restrict:"E",scope:{confirm:"="},templateUrl:"templates/confirm.html",link:function(e,o){e.confirm=angular.extend({},{title:"Tips",content:"Are You Sure?",content_type:"content",open:function(){$(o).show()},cancel:function(){$(o).hide(),"function"==typeof e.confirm.cancle_callback&&e.confirm.cancle_callback()},ok:function(){$(o).hide(),"function"==typeof e.confirm.ok_callback&&(e.confirm.ok_callback(),e.confirm.content_type="content")}},e.confirm)}}}),angular.module("Game").directive("banner",function(){return{restrict:"E",transclude:!0,template:"<div class='carousel-holder owl-carousel theme' ng-transclude></div>",link:function(e,o){var t={autoplay:!0,items:1};t=angular.extend({},t,e.$eval($(o).attr("data-options")));var n=parseFloat(e.$eval($(o).attr("data-rate"))),r={display:"block",width:$(o).parent().width()||$(window).width(),height:($(o).parent().width()||$(window).width())/n};$(o).css(r),e.$on("onRepeatDone",function(){$(o).find(".carousel-holder").owlCarousel(t)})}}}),angular.module("Game").controller("signupController",["$scope","$rootScope","$timeout","$location","userServices","errorServices","toastServices","localStorageService","config",function(e,o,t,n,r,a,i,s,c){e.input={},e.ajaxForm=function(){return e.input.password_1!=e.input.password_2?(a.autoHide("两次登录密码不一致"),void 0):e.input.password_3!=e.input.password_4?(a.autoHide("两次提现密码不一致"),void 0):(i.show(),r.signup({nickname:e.input.nickname,password:e.input.password_1,name:e.input.realname,telephone:e.input.telephone,trade_password:e.input.password_3,invited_code:e.input.code}).then(function(e){i.hide(),e.code==c.request.SUCCESS&&e.status==c.response.SUCCESS?(o.user=e.user,s.set("token",e.user.token),a.autoHide(e.message),t(function(){n.path("index").replace()},2e3)):a.autoHide(e.message)}),void 0)}}]),angular.module("Game").controller("signinController",["$scope","$rootScope","$timeout","$location","userServices","errorServices","toastServices","localStorageService","config",function(e,o,t,n,r,a,i,s,c){e.input={},e.ajaxForm=function(){i.show(),r.signin({nickname:e.input.nickname,password:e.input.password}).then(function(e){i.hide(),e.code==c.request.SUCCESS&&e.status==c.response.SUCCESS?(o.user=e.user,s.set("token",e.user.token),a.autoHide(e.message),t(function(){n.path("index").replace()},2e3)):a.autoHide(e.message)})}}]),angular.module("Game").controller("saicheController",["$scope","$route","$rootScope","$timeout","$interval","userServices","errorServices","toastServices","localStorageService","config",function(e,o,t,n,r,a,i,s,c,u){e.saiche={},e.saiche.waiting=!1,e.query_saiche=function(){a.query_saiche().then(function(o){return o.code==u.request.SUCCESS&&o.status==u.response.SUCCESS?e.saiche=o:i.autoHide(o.message),e.saiche.waiting?(n(function(){e.saiche.day_seconds="",e.query_saiche()},5e3),void 0):(e.reload_saiche_history(),void 0)})},e.query_saiche(),e.saiche_historys=[],e.page={pn:1,page_size:5,message:"点击加载更多"},e.loadMore=function(){e.no_more||(s.show(),e.page.message="正在加载...",a.query_saiche_history(e.page).then(function(o){s.hide(),e.page.message="点击加载更多",e.is_reload&&(e.saiche_historys=[],e.is_reload=!1),o.code==u.request.SUCCESS&&o.status==u.response.SUCCESS?(e.saiche_historys=e.saiche_historys.concat(o.Result.BjpksDataList.list),e.no_more=e.saiche_historys.length==o.Result.BjpksDataList.totalRow?!0:!1):i.autoHide("服务器错误"),e.no_more&&(e.page.message="没有了"),e.page.pn++}))},e.loadMore(),e.reload_saiche_history=function(){e.page={pn:1,page_size:5,message:"点击加载更多"},e.is_reload=!0,e.no_more=!1,e.loadMore()},e.callbackTimer={},e.callbackTimer.finished=function(){e.query_saiche()},e.refresh=function(){o.reload()}}]),angular.module("Game").controller("recommandorsController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,o,t,n,r,a){o.sync(),e.recommandors=[],e.page={pn:1,page_size:1,message:"点击加载更多"},e.loadMore=function(){e.no_more||(n.show(),e.page.message="正在加载...",o.query_recommandors(e.page).then(function(o){n.hide(),e.page.message="点击加载更多",o.code==a.request.SUCCESS&&o.status==a.response.SUCCESS?(e.recommandors=e.recommandors.concat(o.Result.RecommendList.list),e.no_more=e.recommandors.length==o.Result.RecommendList.totalRow?!0:!1):t.autoHide("服务器错误"),e.no_more&&(e.page.message="没有了"),e.page.pn++}))},e.loadMore()}]),angular.module("Game").controller("recommandIncomeController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,o,t,n,r,a){o.sync(),e.recommand_incomes=[],e.page={pn:1,page_size:1,message:"点击加载更多"},e.loadMore=function(){e.no_more||(n.show(),e.page.message="正在加载...",o.query_recommandors(e.page).then(function(o){n.hide(),e.page.message="点击加载更多",o.code==a.request.SUCCESS&&o.status==a.response.SUCCESS?(e.recommand_incomes=e.recommand_incomes.concat(o.Result.RecommendList.list),e.no_more=e.recommand_incomes.length==o.Result.RecommendList.totalRow?!0:!1):t.autoHide("服务器错误"),e.no_more&&(e.page.message="没有了"),e.page.pn++}))},e.loadMore()}]),angular.module("Game").controller("ordersController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,o,t,n,r,a){e.input={},e.show=function(o){e.show_order=o,e.popup_state="open"},e.close=function(){e.popup_state="close"},e.orders=[],e.page={pn:1,page_size:20,message:"点击加载更多"},e.loadMore=function(){e.no_more||(n.show(),e.page.message="正在加载...",o.query_orders(e.page).then(function(o){n.hide(),e.page.message="点击加载更多",o.code==a.request.SUCCESS&&o.status==a.response.SUCCESS?(e.orders=e.orders.concat(o.Result.BuyGameLogList.list),e.no_more=e.orders.length==o.Result.BuyGameLogList.totalRow?!0:!1):t.autoHide("服务器错误"),e.no_more&&(e.page.message="没有了"),e.page.pn++}))},e.loadMore()}]),angular.module("Game").controller("onlineWithdrawController",["$scope","$rootScope","userServices","errorServices","toastServices","localStorageService","config",function(e,o,t,n,r,a,i){e.input={},t.sync(),e.ajaxForm=function(){r.show(),t.withdraw({charge_account:e.input.account,account_name:e.input.pay_account,money:e.input.money,trade_password:e.input.password}).then(function(e){r.hide(),e.code==i.request.SUCCESS&&e.status==i.response.SUCCESS?n.autoHide(e.message):n.autoHide(e.message)})}}]),angular.module("Game").controller("onlineChargeController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,o,t,n,r,a){e.input={},n.show(),o.query_constant_info().then(function(o){n.hide(),o.code==a.request.SUCCESS&&o.status==a.response.SUCCESS?e.charge_info=o.Constant:t.autoHide(o.message)}),e.ajaxForm=function(){n.show(),o.charge({charge_account:e.input.pay_account,account_name:e.input.account,money:e.input.money}).then(function(o){n.hide(),o.code==a.request.SUCCESS&&o.status==a.response.SUCCESS?(t.autoHide(o.message),e.input.pay_account="",e.input.account="",e.input.money=""):t.autoHide(o.message)})}}]),angular.module("Game").controller("myCodeController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,o,t,n,r,a){o.sync(),n.show(),o.query_constant_info().then(function(o){n.hide(),o.code==a.request.SUCCESS&&o.status==a.response.SUCCESS?e.constant_info=o.Constant:t.autoHide(o.message)})}]),angular.module("Game").controller("modifyTradePasswordController",["$scope","$rootScope","$location","$timeout","userServices","errorServices","toastServices","localStorageService","config",function(e,o,t,n,r,a,i,s,c){e.input={},e.ajaxForm=function(){return e.password_1!=e.password_2?(a.autoHide("两次密码不一致"),void 0):(i.show(),r.modify_trade_password({old_trade_password:e.input.password,new_trade_password:e.input.password_1}).then(function(t){i.hide(),t.code==c.request.SUCCESS&&t.status==c.response.SUCCESS?(a.autoHide(t.message),n(function(){o.back()},3e3)):(e.input.password="",e.input.password_1="",e.input.password_2="",a.autoHide(t.message))}),void 0)}}]),angular.module("Game").controller("modifyPasswordController",["$scope","$rootScope","$location","$timeout","userServices","errorServices","toastServices","localStorageService","config",function(e,o,t,n,r,a,i,s,c){e.input={},e.ajaxForm=function(){return e.password_1!=e.password_2?(a.autoHide("两次密码不一致"),void 0):(i.show(),r.modify_password({old_password:e.input.password,new_password:e.input.password_1}).then(function(t){i.hide(),t.code==c.request.SUCCESS&&t.status==c.response.SUCCESS?(a.autoHide(t.message),n(function(){o.back()},3e3)):(e.input.password="",e.input.password_1="",e.input.password_2="",a.autoHide(t.message))}),void 0)}}]),angular.module("Game").controller("messagesController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Game").controller("meController",["$scope","$rootScope","$location","userServices","errorServices","toastServices","localStorageService","config",function(e,o,t,n,r,a,i,s){a.show(),n.query_basicinfo().then(function(e){a.hide(),e.code==s.request.SUCCESS&&e.status==s.response.SUCCESS?o.user=angular.extend({},o.user,e.Result.UserInfo):r.autoHide(e.message)}),e.logout=function(){o.user={},i.remove("token"),t.path("index").replace()}}]),angular.module("Game").controller("liuhecaiController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Game").controller("kuaileController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Game").controller("jiangpinController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Game").controller("indexController",["$scope","$rootScope","$timeout","$location","userServices","errorServices","gameServices","toastServices","localStorageService","config",function(e,o,t,n,r,a,i,s,c,u){s.show(),i.query_banner().then(function(o){s.hide(),o.code==u.request.SUCCESS&&o.status==u.response.SUCCESS?e.banners=o.Result.homeBanner:a.autoHide(o.message)}),e.go=function(e){return c.get("token")?(n.path(e),void 0):(a.autoHide("请先登录"),t(function(){n.path("signin")},3e3),void 0)}}]),angular.module("Game").controller("headerController",["$scope","$route","$rootScope","userServices","errorServices","toastServices","localStorageService","config",function(e,o,t,n,r,a,i,s){i.get("token")&&n.sync(),e.input={},e.ajaxForm=function(){a.show(),n.signin({nickname:e.input.nickname,password:e.input.password}).then(function(e){a.hide(),e.code==s.request.SUCCESS&&e.status==s.response.SUCCESS?(t.user=e.user,i.set("token",e.user.token),r.autoHide(e.message)):r.autoHide(e.message)})},e.logout=function(){n.logout()}}]),angular.module("Game").controller("forgetController",["$scope","$location","$timeout","userServices","errorServices","toastServices","localStorageService","config",function(e,o,t,n,r,a,i,s){e.input={},e.ajaxForm=function(){return e.password_1!=e.password_2?(r.autoHide("两次密码不一致"),void 0):(a.show(),n.forget({nickname:e.input.nickname,telephone:e.input.telephone,password:e.input.password_1}).then(function(n){a.hide(),n.code==s.request.SUCCESS&&n.status==s.response.SUCCESS?(r.autoHide(n.message),t(function(){o.path("signin").replace()},3e3)):(e.input.nickname="",e.input.telephone="",e.input.password_1="",e.input.password_2="",r.autoHide(n.message))}),void 0)}}]),angular.module("Game").controller("fillinorderSaicheController",["$scope","$timeout","$route","userServices","$interval","errorServices","toastServices","localStorageService","config",function(e,o,t,n,r,a,i,s,c){e.input={},e.saiche={},e.saiche.waiting=!1,e.query_saiche=function(){n.query_saiche().then(function(t){return t.code==c.request.SUCCESS&&t.status==c.response.SUCCESS?e.saiche=t:a.autoHide(t.message),e.saiche.waiting?(o(function(){e.saiche.day_seconds="",e.query_saiche()},5e3),void 0):void 0})},e.query_saiche(),e.game_type=[{label:"双面",value:"1"},{label:"数字盘",value:"2"}],e.input.game_type=e.game_type[0],e.$watch("input.game_type",function(o){o&&e.query_peilv(2)},!0),e.query_peilv=function(o){i.show(),n.query_peilv({g_type:o,o_type:e.input.game_type.value}).then(function(o){i.hide(),o.code==c.request.SUCCESS&&o.status==c.response.SUCCESS?(e.games=o.Result.OddsBeans,angular.forEach(e.games,function(e){angular.forEach(e.oIndexBeans,function(e){e.betting_money=0,e.betted=!1})})):a.autoHide(o.message)})},e.show=function(o,t){if(!e.saiche.waiting){if(o.betted)return o.betting_money=0,o.betted=!1,void 0;e.popup_state="open",e.input.selected_game_cell=o,e.input.selected_game=t}},e.close=function(){e.popup_state="close"},e.betting=function(){var o=/^[0-9]*$/;e.input.betting_money&&o.test(e.input.betting_money)&&(e.input.selected_game_cell.betting_money=e.input.betting_money,e.input.selected_game_cell.betted=!0,e.popup_state="close")},e.callbackTimer={},e.callbackTimer.finished=function(){e.query_saiche()},e.refresh=function(){t.reload()},e.resetForm=function(){e.saiche.waiting||angular.forEach(e.games,function(e){angular.forEach(e.oIndexBeans,function(e){e.betting_money=0,e.betted=!1})})},e.ajaxForm=function(){if(!e.saiche.waiting){var r="",s=0;angular.forEach(e.games,function(e,o){angular.forEach(e.oIndexBeans,function(e){if(e.betted){var t=o+1;s+=parseFloat(e.betting_money),r+=t+"A"+e.name+"A"+e.betting_money+"A"+e.rate+"#"}})}),r=r.substring(0,r.length-1),i.show(),n.betting({game_type:2,o_type:e.input.game_type.value,total_money:s,n_periods_next:e.saiche.qishu_next,buy_infos:r}).then(function(e){i.hide(),e.code==c.request.SUCCESS&&e.status==c.response.SUCCESS?(a.autoHide(e.message),o(function(){t.reload()},3e3)):a.autoHide(e.message)})}}}]),angular.module("Game").controller("fillinorderLiuhecaiController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Game").controller("fillinorderKuaileController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Game").controller("fillinorderFeitingController",["$scope","$route","$timeout","$route","userServices","$interval","errorServices","toastServices","localStorageService","config",function(e,o,t,o,n,r,a,i,s,c){e.input={},e.feiting={},e.feiting.waiting=!1,e.query_feiting=function(){n.query_feiting().then(function(o){return o.code==c.request.SUCCESS&&o.status==c.response.SUCCESS?e.feiting=o:a.autoHide(o.message),e.feiting.waiting?(t(function(){e.feiting.day_seconds="",e.query_feiting()},5e3),void 0):void 0})},e.query_feiting(),e.game_type=[{label:"双面",value:"1"},{label:"数字盘",value:"2"}],e.input.game_type=e.game_type[0],e.$watch("input.game_type",function(o){o&&e.query_peilv(1)},!0),e.query_peilv=function(o){i.show(),n.query_peilv({g_type:o,o_type:e.input.game_type.value}).then(function(o){i.hide(),o.code==c.request.SUCCESS&&o.status==c.response.SUCCESS?(e.games=o.Result.OddsBeans,angular.forEach(e.games,function(e){angular.forEach(e.oIndexBeans,function(e){e.betting_money=0,e.betted=!1})})):a.autoHide(o.message)})},e.show=function(o,t){if(!e.feiting.waiting){if(o.betted)return o.betting_money=0,o.betted=!1,void 0;e.popup_state="open",e.input.selected_game_cell=o,e.input.selected_game=t}},e.close=function(){e.popup_state="close"},e.betting=function(){var o=/^[0-9]*$/;e.input.betting_money&&o.test(e.input.betting_money)&&(e.input.selected_game_cell.betting_money=e.input.betting_money,e.input.selected_game_cell.betted=!0,e.popup_state="close")},e.callbackTimer={},e.callbackTimer.finished=function(){e.query_feiting()},e.refresh=function(){o.reload()},e.resetForm=function(){e.feiting.waiting||angular.forEach(e.games,function(e){angular.forEach(e.oIndexBeans,function(e){e.betting_money=0,e.betted=!1})})},e.ajaxForm=function(){if(!e.feiting.waiting){var r="",s=0;angular.forEach(e.games,function(e,o){angular.forEach(e.oIndexBeans,function(e){if(e.betted){var t=o+1;s+=parseFloat(e.betting_money),r+=t+"A"+e.name+"A"+e.betting_money+"A"+e.rate+"#"}})}),r=r.substring(0,r.length-1),i.show(),n.betting({game_type:1,o_type:e.input.game_type.value,total_money:s,n_periods_next:e.feiting.qishu_str,buy_infos:r}).then(function(e){i.hide(),e.code==c.request.SUCCESS&&e.status==c.response.SUCCESS?(a.autoHide(e.message),t(function(){o.reload()},500)):a.autoHide(e.message)})}}}]),angular.module("Game").controller("fillinorderController",["$scope","$timeout","$route","$routeParams","userServices","$interval","errorServices","toastServices","localStorageService","config",function(e,o,t,n,r,a,i,s,c,u){e.input={},e.query_feiting=function(){r.query_feiting().then(function(t){return t.code==u.request.SUCCESS&&t.status==u.response.SUCCESS?e.feiting=t:i.autoHide(t.message),e.feiting.waiting?(o(function(){e.feiting.day_seconds="",e.query_feiting()},5e3),void 0):void 0})},e.query_feiting(),e.game_type=[{label:"双面",value:"1"},{label:"数字盘",value:"2"}],e.input.game_type=e.game_type[0],e.$watch("input.game_type",function(o){o&&e.query_peilv(n.type||1)},!0),e.query_peilv=function(o){s.show(),r.query_peilv({g_type:o,o_type:e.input.game_type.value}).then(function(o){s.hide(),o.code==u.request.SUCCESS&&o.status==u.response.SUCCESS?(e.games=o.Result.OddsBeans,angular.forEach(e.games,function(e){angular.forEach(e.oIndexBeans,function(e){e.betting_money=0,e.betted=!1})})):i.autoHide(o.message)})},e.show=function(o,t){return o.betted?(o.betting_money=0,o.betted=!1,void 0):(e.popup_state="open",e.input.selected_game_cell=o,e.input.selected_game=t,void 0)},e.close=function(){e.popup_state="close"},e.betting=function(){var o=/^[0-9]*$/;e.input.betting_money&&o.test(e.input.betting_money)&&(e.input.selected_game_cell.betting_money=e.input.betting_money,e.input.selected_game_cell.betted=!0,e.popup_state="close")},e.resetForm=function(){angular.forEach(e.games,function(e){angular.forEach(e.oIndexBeans,function(e){e.betting_money=0,e.betted=!1})})},e.ajaxForm=function(){var a="",c=0;angular.forEach(e.games,function(e,o){angular.forEach(e.oIndexBeans,function(e){if(e.betted){var t=o+1;c+=parseFloat(e.betting_money),a+=t+"A"+e.name+"A"+e.betting_money+"A"+e.rate+"#"}})}),a=a.substring(0,a.length-1),s.show(),r.betting({game_type:n.type||1,o_type:e.input.game_type.value,total_money:c,n_periods_next:e.feiting.qishu_next,buy_infos:a}).then(function(e){s.hide(),e.code==u.request.SUCCESS&&e.status==u.response.SUCCESS?(i.autoHide(e.message),o(function(){t.reload()},3e3)):i.autoHide(e.message)})}}]),angular.module("Game").controller("feitingController",["$scope","$route","$rootScope","$timeout","$interval","userServices","errorServices","toastServices","localStorageService","config",function(e,o,t,n,r,a,i,s,c,u){e.feiting={},e.feiting.waiting=!1,e.query_feiting=function(){a.query_feiting().then(function(o){return o.code==u.request.SUCCESS&&o.status==u.response.SUCCESS?e.feiting=o:i.autoHide(o.message),e.feiting.waiting?(n(function(){e.feiting.day_seconds="",e.query_feiting()},5e3),void 0):(e.reload_feiting_history(),void 0)})},e.query_feiting(),e.feiting_historys=[],e.page={pn:1,page_size:5,message:"点击加载更多"},e.loadMore=function(){e.no_more||(s.show(),e.page.message="正在加载...",a.query_feiting_history(e.page).then(function(o){s.hide(),e.page.message="点击加载更多",e.is_reload&&(e.feiting_historys=[],e.is_reload=!1),o.code==u.request.SUCCESS&&o.status==u.response.SUCCESS?(e.feiting_historys=e.feiting_historys.concat(o.Result.XyftDataList.list),e.no_more=e.feiting_historys.length==o.Result.XyftDataList.totalRow?!0:!1):i.autoHide("服务器错误"),e.no_more&&(e.page.message="没有了"),e.page.pn++
}))},e.loadMore(),e.reload_feiting_history=function(){e.page={pn:1,page_size:5,message:"点击加载更多"},e.is_reload=!0,e.no_more=!1,e.loadMore()},e.callbackTimer={},e.callbackTimer.finished=function(){e.query_feiting()},e.refresh=function(){o.reload()}}]),angular.module("Game").controller("exchangeController",["$scope","errorServices","toastServices","localStorageService","config",function(e){e.input={},e.input.province="广东省",e.input.city="深圳市",e.input.district="宝安区"}]),angular.module("Game").controller("detailController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Game").controller("contactController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Game").controller("chargeController",["$scope","$rootScope","userServices","errorServices","toastServices","localStorageService","config",function(e,o,t){t.sync()}]),angular.module("Game").controller("billsController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,o,t,n,r,a){e.bills=[],e.page={pn:1,page_size:20,message:"点击加载更多"},e.loadMore=function(){e.no_more||(n.show(),e.page.message="正在加载...",o.query_bills(e.page).then(function(o){n.hide(),e.page.message="点击加载更多",o.code==a.request.SUCCESS&&o.status==a.response.SUCCESS?(e.bills=e.bills.concat(o.Result.FundLogList.list),e.no_more=e.bills.length==o.Result.FundLogList.totalRow?!0:!1):t.autoHide("服务器错误"),e.no_more&&(e.page.message="没有了"),e.page.pn++}))},e.loadMore(),e.type=["","存款","提现","投注","中奖","推荐收入"],e.get_type=function(o){return e.type[o]}}]),angular.module("Game").constant("config",{url:"http://120.76.41.192:8055",imageUrl:"http://120.76.41.192:8055/files/image?name=",request:{SUCCESS:"200",TOKEN_INVALID:"405"},response:{SUCCESS:1},common_params:{invoke:"h5"},interceptor:["index","feiting","saiche","kuaile","liuhecai","jiangpin","contact","charge","me","bills","recommandors","recommand_income","my_code","forget","modify_password","modify_trade_password","messages","online_charge","online_withdraw","fillinorder","detail","exchange","orders","signup","fillinorder_feiting","fillinorder_saiche","fillinorder_kuaile","fillinorder_liuhecai","config"]});
//# sourceMappingURL=app.min.js.map
